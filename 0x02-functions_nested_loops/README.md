Conditionals nested loops and functions in C
